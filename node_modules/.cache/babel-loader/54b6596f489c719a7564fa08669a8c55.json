{"ast":null,"code":"import _toConsumableArray from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import'./css/CreateMovie.css';import TextField from'@material-ui/core/TextField';import InputLabel from'@material-ui/core/InputLabel';import Button from'@material-ui/core/Button';import{MoviesContext}from'../../context/MoviesContext';import axios from'axios';import{useHistory,Redirect,Link}from\"react-router-dom\";var CreateMovie=function CreateMovie(){var _useContext=useContext(MoviesContext),_useContext2=_slicedToArray(_useContext,2),movies=_useContext2[0],setMovies=_useContext2[1];var _useState=useState({title:\"\",description:\"\",year:\"\",duration:\"\",genre:\"\",rating:\"\",review:\"\",image_url:\"\"}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var history=useHistory();useEffect(function(){if(movies.lists===null){axios.get(\"https://backendexample.sanbersy.com/api/movies\").then(function(res){setMovies(_objectSpread(_objectSpread({},movies),{},{lists:res.data.map(function(el){return{id:el.id,created_at:el.created_at,updated_at:el.updated_at,title:el.title,description:el.description,year:el.year,duration:el.duration,genre:el.genre,rating:el.rating,review:el.review,image_url:el.image_url};})}));}).catch(function(){alert('Gagal Mengambil data dari server!');});}},[setMovies]);var handleChange=function handleChange(event){var getName=event.target.name;switch(getName){case\"title\":setInput(_objectSpread(_objectSpread({},input),{},{title:event.target.value}));break;case\"description\":setInput(_objectSpread(_objectSpread({},input),{},{description:event.target.value}));break;case\"duration\":setInput(_objectSpread(_objectSpread({},input),{},{duration:event.target.value}));break;case\"genre\":setInput(_objectSpread(_objectSpread({},input),{},{genre:event.target.value}));break;case\"rating\":setInput(_objectSpread(_objectSpread({},input),{},{rating:event.target.value}));break;case\"review\":setInput(_objectSpread(_objectSpread({},input),{},{review:event.target.value}));break;case\"image_url\":setInput(_objectSpread(_objectSpread({},input),{},{image_url:event.target.value}));break;case\"year\":setInput(_objectSpread(_objectSpread({},input),{},{year:event.target.value}));break;default:{break;}}};var handleSubmit=function handleSubmit(event){event.preventDefault();var title=input.title;var year=input.year;var description=input.description;var duration=input.duration;var genre=input.genre;var rating=input.rating;var review=input.review;var image_url=input.image_url;console.log(movies.statusForm);var timestamp=new Date();var date=new Intl.DateTimeFormat('en-US',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit'}).format(timestamp);console.log(date);if(title.replace(/\\s/g,'')!==\"\"&&description.replace(/\\s/g,'')!==\"\"&&duration.toString().replace(/\\s/g,'')!==\"\"&&genre.replace(/\\s/g,'')!==\"\"&&rating.toString().replace(/\\s/g,'')!==\"\"&&review.replace(/\\s/g,'')!==\"\"&&image_url.replace(/\\s/g,'')!==\"\"&&year.toString().replace(/\\s/g,'')!==\"\"){if(movies.statusForm===\"create\"){axios.post(\"https://backendexample.sanbersy.com/api/movies\",{created_at:date,title:input.title,description:input.description,year:input.year,duration:input.duration,genre:input.genre,rating:input.rating,review:input.review,image_url:input.image_url}).then(function(res){setMovies({statusForm:\"create\",selectedId:0,lists:[].concat(_toConsumableArray(movies.lists),[_objectSpread({},input)])});setInput({title:\"\",description:\"\",year:\"\",duration:\"\",genre:\"\",rating:\"\",review:\"\",image_url:\"\"});alert('Data berhasil ditambahkan');});}}else{alert('Kolom masih ada yang kosong, mohon cek kembali ');}};var handleBack=function handleBack(event){event.preventDefault();history.push(\"/movie/tablemovie\");};return/*#__PURE__*/React.createElement(\"div\",{id:\"contentcreate\"},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Add Movie\")),/*#__PURE__*/React.createElement(\"form\",{style:{margin:\"20px\",padding:\"15px\"},onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"400px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Year Release:\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Movie Title:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},type:\"text\",id:\"outlined-secondary\",label:\"Movie Title\",variant:\"outlined\",name:\"title\",onChange:handleChange,value:input.title}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},type:\"number\",id:\"outlined-secondary\",label:\"Year\",variant:\"outlined\",name:\"year\",onChange:handleChange,value:input.year,inputProps:{min:\"1\",step:\"1\"}})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"430px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Duration:\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Description:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},id:\"outlined-multiline-static\",label:\"Description\",multiline:true,rows:4,variant:\"outlined\",name:\"description\",onChange:handleChange,value:input.description}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},type:\"number\",id:\"outlined-secondary\",label:\"Duration\",variant:\"outlined\",name:\"duration\",onChange:handleChange,value:input.duration,inputProps:{min:\"1\",step:\"1\"}})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"400px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Image (URL):\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Genre:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},type:\"text\",id:\"outlined-secondary\",label:\"Genre\",variant:\"outlined\",name:\"genre\",onChange:handleChange,value:input.genre}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},type:\"text\",id:\"outlined-secondary\",label:\"Movie Image (URL):\",variant:\"outlined\",name:\"image_url\",onChange:handleChange,value:input.image_url})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"450px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Review:\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Rating:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},type:\"number\",id:\"outlined-secondary\",label:\"Rating 1-10\",variant:\"outlined\",name:\"rating\",onChange:handleChange,value:input.rating,inputProps:{min:\"1\",max:\"10\",step:\"0.5\"}}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},id:\"outlined-multiline-static\",label:\"Review\",multiline:true,rows:4,variant:\"outlined\",name:\"review\",onChange:handleChange,value:input.review})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(Button,{type:\"Submit\",variant:\"contained\",color:\"secondary\",style:{backgroundColor:\"black\",color:\"gold\",fontWeight:'bolder'}},\"Submit\"),\"\\xA0\",/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:handleBack,color:\"warning\",style:{float:\"right\",backgroundColor:\"gold\",color:\"black\",fontWeight:'bolder'}},\"Back\"))));};export default CreateMovie;","map":{"version":3,"sources":["C:/xampp/htdocs/FP-Sanbercode-Reactjs-0720/src/pages/movies/CreateMovie.js"],"names":["React","useContext","useState","useEffect","TextField","InputLabel","Button","MoviesContext","axios","useHistory","Redirect","Link","CreateMovie","movies","setMovies","title","description","year","duration","genre","rating","review","image_url","input","setInput","history","lists","get","then","res","data","map","el","id","created_at","updated_at","catch","alert","handleChange","event","getName","target","name","value","handleSubmit","preventDefault","console","log","statusForm","timestamp","Date","date","Intl","DateTimeFormat","month","day","hour","minute","second","format","replace","toString","post","selectedId","handleBack","push","margin","padding","float","marginRight","color","fontSize","fontWeight","marginLeft","width","marginTop","min","step","max","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport './css/CreateMovie.css';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { MoviesContext } from '../../context/MoviesContext';\r\nimport axios from 'axios';\r\n\r\nimport { useHistory, Redirect, Link } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\nconst CreateMovie = () => {\r\n    const [movies, setMovies] = useContext(MoviesContext);\r\n    const [input, setInput] = useState(\r\n        {\r\n            title: \"\",\r\n            description: \"\",\r\n            year: \"\",\r\n            duration: \"\",\r\n            genre: \"\",\r\n            rating: \"\",\r\n            review: \"\",\r\n            image_url: \"\"\r\n        }\r\n    )\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (movies.lists === null) {\r\n            axios.get(`https://backendexample.sanbersy.com/api/movies`)\r\n                .then(res => {\r\n                    setMovies({\r\n                        ...movies, lists: res.data.map(el => {\r\n                            return {\r\n                                id: el.id,\r\n                                created_at: el.created_at,\r\n                                updated_at: el.updated_at,\r\n                                title: el.title,\r\n                                description: el.description,\r\n                                year: el.year,\r\n                                duration: el.duration,\r\n                                genre: el.genre,\r\n                                rating: el.rating,\r\n                                review: el.review,\r\n                                image_url: el.image_url\r\n                            }\r\n                        }\r\n                        )\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    alert('Gagal Mengambil data dari server!');\r\n                })\r\n        }\r\n    }, [setMovies])\r\n\r\n    const handleChange = (event) => {\r\n        let getName = event.target.name;\r\n\r\n        switch (getName) {\r\n            case \"title\": setInput({ ...input, title: event.target.value })\r\n\r\n                break;\r\n            case \"description\": setInput({ ...input, description: event.target.value })\r\n                break;\r\n\r\n            case \"duration\":\r\n                setInput({ ...input, duration: event.target.value })\r\n                break;\r\n            case \"genre\": setInput({ ...input, genre: event.target.value })\r\n                break;\r\n            case \"rating\": setInput({ ...input, rating: event.target.value })\r\n                break;\r\n            case \"review\": setInput({ ...input, review: event.target.value })\r\n                break;\r\n            case \"image_url\": setInput({ ...input, image_url: event.target.value })\r\n                break;\r\n            case \"year\": setInput({ ...input, year: event.target.value })\r\n                break;\r\n            default: { break; }\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        let title = input.title;\r\n        let year = input.year;\r\n        let description = input.description;\r\n        let duration = input.duration;\r\n        let genre = input.genre;\r\n        let rating = input.rating;\r\n        let review = input.review;\r\n        let image_url = input.image_url;\r\n\r\n\r\n        console.log(movies.statusForm);\r\n        let timestamp = new Date();\r\n        let date = new Intl.DateTimeFormat('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' }).format(timestamp)\r\n        console.log(date);\r\n\r\n        if (title.replace(/\\s/g, '') !== \"\" && description.replace(/\\s/g, '') !== \"\" && duration.toString().replace(/\\s/g, '') !== \"\" && genre.replace(/\\s/g, '') !== \"\" && rating.toString().replace(/\\s/g, '') !== \"\" && review.replace(/\\s/g, '') !== \"\" && image_url.replace(/\\s/g, '') !== \"\" && year.toString().replace(/\\s/g, '') !== \"\") {\r\n            if (movies.statusForm === \"create\") {\r\n                axios.post(`https://backendexample.sanbersy.com/api/movies`, {\r\n                    created_at: date,\r\n                    title: input.title, description: input.description, year: input.year,\r\n                    duration: input.duration, genre: input.genre, rating: input.rating,\r\n                    review: input.review, image_url: input.image_url\r\n                })\r\n                    .then(res => {\r\n                        setMovies({\r\n                            statusForm: \"create\", selectedId: 0, lists: [...movies.lists, {\r\n                                ...input\r\n                            }]\r\n                        })\r\n                        setInput({\r\n                            title: \"\",\r\n                            description: \"\",\r\n                            year: \"\",\r\n                            duration: \"\",\r\n                            genre: \"\",\r\n                            rating: \"\",\r\n                            review: \"\",\r\n                            image_url: \"\"\r\n                        })\r\n                        alert('Data berhasil ditambahkan');\r\n                    })\r\n            }\r\n        } else {\r\n            alert('Kolom masih ada yang kosong, mohon cek kembali ')\r\n        }\r\n    }\r\n    const handleBack = event => {\r\n        event.preventDefault();\r\n        history.push(\"/movie/tablemovie\")\r\n    }\r\n\r\n    return (\r\n        <div id=\"contentcreate\">\r\n            <h1><span>Add Movie</span></h1 >\r\n            <form style={{ margin: \"20px\", padding: \"15px\" }} onSubmit={handleSubmit}>\r\n                <div>\r\n                    <InputLabel style={{ float: \"right\", marginRight: \"400px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Year Release:</InputLabel>\r\n                    <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Movie Title:</InputLabel>\r\n                    <TextField\r\n                        style={{ width: \"400px\", marginTop: '10px' }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Movie Title\"\r\n                        variant=\"outlined\"\r\n                        name=\"title\"\r\n                        onChange={handleChange}\r\n                        value={input.title}\r\n\r\n                    />\r\n\r\n                    <TextField\r\n                        style={{\r\n                            marginLeft: \"100px\",\r\n                            width: \"400px\", marginTop: '10px'\r\n                        }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Year\"\r\n                        variant=\"outlined\"\r\n                        name=\"year\"\r\n                        onChange={handleChange}\r\n                        value={input.year}\r\n                        inputProps={{ min: \"1\", step: \"1\" }}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"50px\" }}>\r\n                    <InputLabel style={{ float: \"right\", marginRight: \"430px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Duration:</InputLabel>\r\n                    <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Description:</InputLabel>\r\n                    <TextField\r\n                        style={{ width: \"400px\", marginTop: '10px' }}\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Description\"\r\n                        multiline\r\n                        rows={4}\r\n                        variant=\"outlined\"\r\n                        name=\"description\"\r\n                        onChange={handleChange}\r\n                        value={input.description}\r\n\r\n                    />\r\n\r\n                    <TextField\r\n                        style={{ marginLeft: \"100px\", width: \"400px\", marginTop: '10px' }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Duration\"\r\n                        variant=\"outlined\"\r\n                        name=\"duration\"\r\n                        onChange={handleChange}\r\n                        value={input.duration}\r\n                        inputProps={{ min: \"1\", step: \"1\" }}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"50px\" }}>\r\n                    <InputLabel style={{ float: \"right\", marginRight: \"400px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Image (URL):</InputLabel>\r\n                    <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Genre:</InputLabel>\r\n                    <TextField\r\n                        style={{ width: \"400px\", marginTop: '10px' }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Genre\"\r\n                        variant=\"outlined\"\r\n                        name=\"genre\"\r\n                        onChange={handleChange}\r\n                        value={input.genre}\r\n                    />\r\n\r\n                    <TextField\r\n                        style={{ marginLeft: \"100px\", width: \"400px\", marginTop: '10px' }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Movie Image (URL):\"\r\n                        variant=\"outlined\"\r\n                        name=\"image_url\"\r\n                        onChange={handleChange}\r\n                        value={input.image_url}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"50px\" }}>\r\n                    <InputLabel style={{ float: \"right\", marginRight: \"450px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Review:</InputLabel>\r\n                    <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Rating:</InputLabel>\r\n                    <TextField\r\n                        style={{ width: \"400px\", marginTop: '10px' }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Rating 1-10\"\r\n                        variant=\"outlined\"\r\n                        name=\"rating\"\r\n                        onChange={handleChange}\r\n                        value={input.rating}\r\n                        inputProps={{ min: \"1\", max: \"10\", step: \"0.5\" }}\r\n                    />\r\n                    <TextField\r\n                        style={{ marginLeft: \"100px\", width: \"400px\", marginTop: '10px' }}\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Review\"\r\n                        multiline\r\n                        rows={4}\r\n                        variant=\"outlined\"\r\n                        name=\"review\"\r\n                        onChange={handleChange}\r\n                        value={input.review}\r\n                    />\r\n\r\n                </div>\r\n\r\n                <div style={{ marginTop: \"50px\" }}>\r\n                    <Button type=\"Submit\" variant=\"contained\" color=\"secondary\" style={{ backgroundColor: \"black\", color: \"gold\", fontWeight: 'bolder' }}>\r\n                        Submit\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button variant=\"contained\" onClick={handleBack} color=\"warning\" style={{ float: \"right\", backgroundColor: \"gold\", color: \"black\", fontWeight: 'bolder' }}>\r\n                        Back\r\n                        </Button>\r\n                </div>\r\n            </form >\r\n        </div >\r\n    )\r\n}\r\nexport default CreateMovie;"]},"metadata":{},"sourceType":"module"}