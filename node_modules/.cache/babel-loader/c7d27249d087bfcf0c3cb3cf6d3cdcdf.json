{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\src\\\\pages\\\\movies\\\\CreateMovie.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport './css/CreateMovie.css';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport { MoviesContext } from '../../context/MoviesContext';\nimport axios from 'axios';\n\nconst CreateMovie = () => {\n  const [movies, setMovies] = useContext(MoviesContext);\n  const [input, setInput] = useState({\n    title: \"\",\n    description: \"\",\n    year: 0,\n    duration: null,\n    genre: \"\",\n    rating: null,\n    review: \"\",\n    image_url: \"\"\n  });\n  console.log(input);\n  useEffect(() => {\n    if (movies.lists === null) {\n      axios.get(`https://backendexample.sanbersy.com/api/movies`).then(res => {\n        setMovies(res.data.map(el => {\n          return {\n            id: el.id,\n            created_at: el.created_at,\n            updated_at: el.updated_at,\n            title: el.title,\n            description: el.description,\n            year: el.year,\n            duration: el.duration,\n            genre: el.genre,\n            rating: el.rating,\n            review: el.review,\n            image_url: el.image_url\n          };\n        }));\n      });\n    }\n  });\n\n  const handleChange = event => {\n    let getName = event.target.name;\n\n    switch (getName) {\n      case \"title\":\n        setInput({ ...input,\n          title: event.target.value\n        });\n        break;\n\n      case \"description\":\n        setInput({ ...input,\n          description: event.target.value\n        });\n        break;\n\n      case \"duration\":\n        setInput({ ...input,\n          duration: event.target.value\n        });\n        break;\n\n      case \"genre\":\n        setInput({ ...input,\n          genre: event.target.value\n        });\n        break;\n\n      case \"rating\":\n        setInput({ ...input,\n          rating: event.target.value\n        });\n        break;\n\n      case \"review\":\n        setInput({ ...input,\n          review: event.target.value\n        });\n        break;\n\n      case \"image_url\":\n        setInput({ ...input,\n          image_url: event.target.value\n        });\n        break;\n\n      default:\n        {\n          break;\n        }\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    let title = input.title;\n    let description = input.description;\n    let duration = input.duration;\n    let genre = input.genre;\n    let rating = input.rating;\n    let review = input.review;\n    let image_url = input.image_url;\n    let timestamp = new Date();\n    let date = new Intl.DateTimeFormat('en-US', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }).format(timestamp);\n    console(date);\n\n    if (movies.statusForm === \"create\") {\n      axios.post(`https://backendexample.sanbersy.com/api/movies`, {\n        created_at: date,\n        title: input.title,\n        description: input.description,\n        duration: input.duration,\n        genre: input.genre,\n        rating: input.rating,\n        review: input.review,\n        image_url: input.image_url\n      }).then(res => {\n        setMovies([...movies, {\n          id: res.data.id,\n          ...input\n        }]);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, \"Add Movie\")), /*#__PURE__*/React.createElement(FormControl, {\n    style: {\n      margin: \"20px\",\n      padding: \"15px\"\n    },\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    type: \"text\",\n    id: \"outlined-secondary\",\n    label: \"Movie Title\",\n    variant: \"outlined\",\n    name: \"title\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      marginLeft: \"100px\",\n      width: \"400px\"\n    },\n    type: \"number\",\n    id: \"outlined-secondary\",\n    label: \"Year\",\n    variant: \"outlined\",\n    name: \"year\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    id: \"outlined-multiline-static\",\n    label: \"Description\",\n    multiline: true,\n    rows: 4,\n    variant: \"outlined\",\n    name: \"description\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      marginLeft: \"100px\",\n      width: \"400px\"\n    },\n    type: \"number\",\n    id: \"outlined-secondary\",\n    label: \"Duration\",\n    variant: \"outlined\",\n    name: \"duration\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    type: \"text\",\n    id: \"outlined-secondary\",\n    label: \"Genre\",\n    variant: \"outlined\",\n    name: \"genre\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    id: \"discrete-slider\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, \"Rating\"), /*#__PURE__*/React.createElement(Slider, {\n    defaultValue: \"0\",\n    getAriaValueText: \"\",\n    \"aria-labelledby\": \"discrete-slider\",\n    valueLabelDisplay: \"auto\",\n    step: 0.5,\n    marks: true,\n    min: 0,\n    max: 10,\n    style: {\n      width: \"400px\"\n    },\n    name: \"rating\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      marginLeft: \"100px\",\n      width: \"400px\"\n    },\n    id: \"outlined-multiline-static\",\n    label: \"Review\",\n    multiline: true,\n    rows: 4,\n    variant: \"outlined\",\n    name: \"review\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    type: \"text\",\n    id: \"outlined-secondary\",\n    label: \"Movie Image (URL):\",\n    variant: \"outlined\",\n    name: \"image_url\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }, \"Submit\"))));\n};\n\nexport default CreateMovie;","map":{"version":3,"sources":["C:/xampp/htdocs/FP-Sanbercode-Reactjs-0720/src/pages/movies/CreateMovie.js"],"names":["React","useContext","useState","useEffect","FormControl","TextField","InputLabel","makeStyles","MenuItem","Select","Button","Typography","Slider","MoviesContext","axios","CreateMovie","movies","setMovies","input","setInput","title","description","year","duration","genre","rating","review","image_url","console","log","lists","get","then","res","data","map","el","id","created_at","updated_at","handleChange","event","getName","target","name","value","handleSubmit","preventDefault","timestamp","Date","date","Intl","DateTimeFormat","month","day","hour","minute","second","format","statusForm","post","margin","padding","width","marginLeft","marginTop"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport './css/CreateMovie.css'\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nimport { MoviesContext } from '../../context/MoviesContext';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst CreateMovie = () => {\r\n    const [movies, setMovies] = useContext(MoviesContext);\r\n    const [input, setInput] = useState(\r\n        {\r\n            title: \"\",\r\n            description: \"\",\r\n            year: 0,\r\n            duration: null,\r\n            genre: \"\",\r\n            rating: null,\r\n            review: \"\",\r\n            image_url: \"\"\r\n        }\r\n    )\r\n    console.log(input)\r\n    useEffect(() => {\r\n        if (movies.lists === null) {\r\n            axios.get(`https://backendexample.sanbersy.com/api/movies`)\r\n                .then(res => {\r\n                    setMovies(res.data.map(el => {\r\n                        return {\r\n                            id: el.id,\r\n                            created_at: el.created_at,\r\n                            updated_at: el.updated_at,\r\n                            title: el.title,\r\n                            description: el.description,\r\n                            year: el.year,\r\n                            duration: el.duration,\r\n                            genre: el.genre,\r\n                            rating: el.rating,\r\n                            review: el.review,\r\n                            image_url: el.image_url\r\n                        }\r\n                    }))\r\n                })\r\n        }\r\n    })\r\n\r\n    const handleChange = (event) => {\r\n        let getName = event.target.name;\r\n\r\n        switch (getName) {\r\n            case \"title\": setInput({ ...input, title: event.target.value })\r\n\r\n                break;\r\n            case \"description\": setInput({ ...input, description: event.target.value })\r\n                break;\r\n\r\n            case \"duration\":\r\n                setInput({ ...input, duration: event.target.value })\r\n                break;\r\n            case \"genre\": setInput({ ...input, genre: event.target.value })\r\n                break;\r\n            case \"rating\": setInput({ ...input, rating: event.target.value })\r\n                break;\r\n            case \"review\": setInput({ ...input, review: event.target.value })\r\n                break;\r\n            case \"image_url\": setInput({ ...input, image_url: event.target.value })\r\n                break;\r\n            default: { break; }\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        let title = input.title;\r\n        let description = input.description;\r\n        let duration = input.duration;\r\n        let genre = input.genre;\r\n        let rating = input.rating;\r\n        let review = input.review;\r\n        let image_url = input.image_url;\r\n\r\n        let timestamp = new Date();\r\n        let date = new Intl.DateTimeFormat('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' }).format(timestamp)\r\n        console(date);\r\n\r\n        if (movies.statusForm === \"create\") {\r\n            axios.post(`https://backendexample.sanbersy.com/api/movies`, {\r\n                created_at: date,\r\n                title: input.title, description: input.description,\r\n                duration: input.duration, genre: input.genre, rating: input.rating,\r\n                review: input.review, image_url: input.image_url\r\n            })\r\n                .then(res => {\r\n                    setMovies([...movies, {\r\n                        id: res.data.id,\r\n                        ...input\r\n                    }])\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div id=\"content\">\r\n            <h1><span>Add Movie</span></h1>\r\n            <FormControl style={{ margin: \"20px\", padding: \"15px\" }} onSubmit={handleSubmit}>\r\n                <div>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Movie Title\"\r\n                        variant=\"outlined\"\r\n                        name=\"title\"\r\n                        onChange={handleChange}\r\n\r\n                    />\r\n                    <TextField\r\n                        style={{\r\n                            marginLeft: \"100px\",\r\n                            width: \"400px\"\r\n                        }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Year\"\r\n                        variant=\"outlined\"\r\n                        name=\"year\"\r\n                        onChange={handleChange}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Description\"\r\n                        multiline\r\n                        rows={4}\r\n                        variant=\"outlined\"\r\n                        name=\"description\"\r\n                        onChange={handleChange}\r\n                    />\r\n\r\n                    <TextField\r\n                        style={{ marginLeft: \"100px\", width: \"400px\" }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Duration\"\r\n                        variant=\"outlined\"\r\n                        name=\"duration\"\r\n                        onChange={handleChange}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Genre\"\r\n                        variant=\"outlined\"\r\n                        name=\"genre\"\r\n                        onChange={handleChange}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <Typography id=\"discrete-slider\" gutterBottom>\r\n                        Rating\r\n                     </Typography>\r\n                    <Slider\r\n                        defaultValue=\"0\"\r\n                        getAriaValueText=\"\"\r\n                        aria-labelledby=\"discrete-slider\"\r\n                        valueLabelDisplay=\"auto\"\r\n                        step={0.5}\r\n                        marks\r\n                        min={0}\r\n                        max={10}\r\n                        style={{ width: \"400px\" }}\r\n                        name=\"rating\"\r\n                        onChange={handleChange}\r\n                    />\r\n\r\n                    <TextField\r\n                        style={{ marginLeft: \"100px\", width: \"400px\" }}\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Review\"\r\n                        multiline\r\n                        rows={4}\r\n                        variant=\"outlined\"\r\n                        name=\"review\"\r\n                        onChange={handleChange}\r\n                    />\r\n\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Movie Image (URL):\"\r\n                        variant=\"outlined\"\r\n                        name=\"image_url\"\r\n                        onChange={handleChange}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <Button type=\"submit\" variant=\"contained\" color=\"secondary\">\r\n                        Submit\r\n                    </Button>\r\n                </div>\r\n            </FormControl >\r\n        </div >\r\n    )\r\n}\r\nexport default CreateMovie;"]},"metadata":{},"sourceType":"module"}