{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\src\\\\pages\\\\movies\\\\CreateMovie.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport './css/CreateMovie.css';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Slider from '@material-ui/core/Slider';\nimport { MoviesContext } from '../../context/MoviesContext';\nimport axios from 'axios';\n\nconst CreateMovie = () => {\n  const [movies, setMovies] = useContext(MoviesContext);\n  const [input, setInput] = useState({\n    title: \"\",\n    description: \"\",\n    year: \"\",\n    duration: \"\",\n    genre: \"\",\n    rating: \"\",\n    review: \"\",\n    image_url: \"\"\n  });\n  console.log(input);\n  console.log(movies);\n  useEffect(() => {\n    if (movies.lists === null) {\n      axios.get(`https://backendexample.sanbersy.com/api/movies`).then(res => {\n        setMovies({ ...movies,\n          lists: res.data.map(el => {\n            return {\n              id: el.id,\n              created_at: el.created_at,\n              updated_at: el.updated_at,\n              title: el.title,\n              description: el.description,\n              year: el.year,\n              duration: el.duration,\n              genre: el.genre,\n              rating: el.rating,\n              review: el.review,\n              image_url: el.image_url\n            };\n          })\n        });\n      }).catch(() => {\n        alert('Gagal Mengambil data dari server!');\n      });\n    }\n  }, [setMovies]);\n\n  const handleChange = event => {\n    let getName = event.target.name;\n\n    switch (getName) {\n      case \"title\":\n        setInput({ ...input,\n          title: event.target.value\n        });\n        break;\n\n      case \"description\":\n        setInput({ ...input,\n          description: event.target.value\n        });\n        break;\n\n      case \"duration\":\n        setInput({ ...input,\n          duration: event.target.value\n        });\n        break;\n\n      case \"genre\":\n        setInput({ ...input,\n          genre: event.target.value\n        });\n        break;\n\n      case \"rating\":\n        setInput({ ...input,\n          rating: event.target.value\n        });\n        break;\n\n      case \"review\":\n        setInput({ ...input,\n          review: event.target.value\n        });\n        break;\n\n      case \"image_url\":\n        setInput({ ...input,\n          image_url: event.target.value\n        });\n        break;\n\n      case \"year\":\n        setInput({ ...input,\n          year: event.target.value\n        });\n        break;\n\n      default:\n        {\n          break;\n        }\n    }\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    let title = input.title;\n    let description = input.description;\n    let duration = input.duration;\n    let genre = input.genre;\n    let rating = input.rating;\n    let review = input.review;\n    let image_url = input.image_url;\n    console.log(movies.statusForm);\n    let timestamp = new Date();\n    let date = new Intl.DateTimeFormat('en-US', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }).format(timestamp);\n    console.log(date);\n\n    if (title.replace(/\\s/g, '') !== \"\" && description.replace(/\\s/g, '') !== \"\" && duration.toString().replace(/\\s/g, '') !== \"\" && genre.replace(/\\s/g, '') !== \"\" && rating.toString().replace(/\\s/g, '') !== \"\" && review.replace(/\\s/g, '') !== \"\" && image_url.replace(/\\s/g, '') !== \"\") {\n      if (movies.statusForm === \"create\") {\n        axios.post(`https://backendexample.sanbersy.com/api/movies`, {\n          created_at: date,\n          title: input.title,\n          description: input.description,\n          duration: input.duration,\n          genre: input.genre,\n          rating: input.rating,\n          review: input.review,\n          image_url: input.image_url\n        }).then(res => {\n          setMovies({\n            statusForm: \"create\",\n            selectedId: 0,\n            lists: [...movies.lists, { ...input\n            }]\n          });\n          setInput({\n            title: \"\",\n            description: \"\",\n            year: \"\",\n            duration: \"\",\n            genre: \"\",\n            rating: \"\",\n            review: \"\",\n            image_url: \"\"\n          });\n          alert('Data berhasil ditambahkan');\n        });\n      }\n    } else {\n      alert('Kolom masih ada yang kosong, mohon cek kembali ');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 20\n    }\n  }, \"Add Movie\")), /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      margin: \"20px\",\n      padding: \"15px\"\n    },\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    style: {\n      marginLeft: \"10px\",\n      display: \"inline\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, \"awdaw\"), /*#__PURE__*/React.createElement(InputLabel, {\n    style: {\n      display: \"inline\",\n      marginLeft: \"480px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 101\n    }\n  }, \"awdaw\"), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    type: \"text\",\n    id: \"outlined-secondary\",\n    label: \"Movie Title\",\n    variant: \"outlined\",\n    name: \"title\",\n    onChange: handleChange,\n    value: input.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      marginLeft: \"100px\",\n      width: \"400px\"\n    },\n    type: \"number\",\n    id: \"outlined-secondary\",\n    label: \"Year\",\n    variant: \"outlined\",\n    name: \"year\",\n    onChange: handleChange,\n    value: input.year,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    id: \"outlined-multiline-static\",\n    label: \"Description\",\n    multiline: true,\n    rows: 4,\n    variant: \"outlined\",\n    name: \"description\",\n    onChange: handleChange,\n    value: input.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      marginLeft: \"100px\",\n      width: \"400px\"\n    },\n    type: \"number\",\n    id: \"outlined-secondary\",\n    label: \"Duration\",\n    variant: \"outlined\",\n    name: \"duration\",\n    onChange: handleChange,\n    value: input.duration,\n    min: 0,\n    max: 10,\n    inputProps: {\n      inputProps: {\n        min: 0,\n        max: 10\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    type: \"text\",\n    id: \"outlined-secondary\",\n    label: \"Genre\",\n    variant: \"outlined\",\n    name: \"genre\",\n    onChange: handleChange,\n    value: input.genre,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    type: \"number\",\n    id: \"outlined-secondary\",\n    label: \"Rating\",\n    variant: \"outlined\",\n    name: \"rating\",\n    onChange: handleChange,\n    value: input.rating,\n    inputProps: {\n      inputProps: {\n        min: 0,\n        max: 10\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      marginLeft: \"100px\",\n      width: \"400px\"\n    },\n    id: \"outlined-multiline-static\",\n    label: \"Review\",\n    multiline: true,\n    rows: 4,\n    variant: \"outlined\",\n    name: \"review\",\n    onChange: handleChange,\n    value: input.review,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    style: {\n      width: \"400px\"\n    },\n    type: \"text\",\n    id: \"outlined-secondary\",\n    label: \"Movie Image (URL):\",\n    variant: \"outlined\",\n    name: \"image_url\",\n    onChange: handleChange,\n    value: input.image_url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"Submit\",\n    variant: \"contained\",\n    color: \"secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, \"Submit\"))));\n};\n\nexport default CreateMovie;","map":{"version":3,"sources":["C:/xampp/htdocs/FP-Sanbercode-Reactjs-0720/src/pages/movies/CreateMovie.js"],"names":["React","useContext","useState","useEffect","FormControl","TextField","InputLabel","makeStyles","MenuItem","Select","Button","Typography","Slider","MoviesContext","axios","CreateMovie","movies","setMovies","input","setInput","title","description","year","duration","genre","rating","review","image_url","console","log","lists","get","then","res","data","map","el","id","created_at","updated_at","catch","alert","handleChange","event","getName","target","name","value","handleSubmit","preventDefault","statusForm","timestamp","Date","date","Intl","DateTimeFormat","month","day","hour","minute","second","format","replace","toString","post","selectedId","margin","padding","marginLeft","display","width","marginTop","inputProps","min","max"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport './css/CreateMovie.css'\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nimport { MoviesContext } from '../../context/MoviesContext';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst CreateMovie = () => {\r\n    const [movies, setMovies] = useContext(MoviesContext);\r\n    const [input, setInput] = useState(\r\n        {\r\n            title: \"\",\r\n            description: \"\",\r\n            year: \"\",\r\n            duration: \"\",\r\n            genre: \"\",\r\n            rating: \"\",\r\n            review: \"\",\r\n            image_url: \"\"\r\n        }\r\n    )\r\n    console.log(input)\r\n    console.log(movies);\r\n\r\n    useEffect(() => {\r\n        if (movies.lists === null) {\r\n            axios.get(`https://backendexample.sanbersy.com/api/movies`)\r\n                .then(res => {\r\n                    setMovies({\r\n                        ...movies, lists: res.data.map(el => {\r\n                            return {\r\n                                id: el.id,\r\n                                created_at: el.created_at,\r\n                                updated_at: el.updated_at,\r\n                                title: el.title,\r\n                                description: el.description,\r\n                                year: el.year,\r\n                                duration: el.duration,\r\n                                genre: el.genre,\r\n                                rating: el.rating,\r\n                                review: el.review,\r\n                                image_url: el.image_url\r\n                            }\r\n                        }\r\n                        )\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    alert('Gagal Mengambil data dari server!');\r\n                })\r\n        }\r\n    }, [setMovies])\r\n\r\n    const handleChange = (event) => {\r\n        let getName = event.target.name;\r\n\r\n        switch (getName) {\r\n            case \"title\": setInput({ ...input, title: event.target.value })\r\n\r\n                break;\r\n            case \"description\": setInput({ ...input, description: event.target.value })\r\n                break;\r\n\r\n            case \"duration\":\r\n                setInput({ ...input, duration: event.target.value })\r\n                break;\r\n            case \"genre\": setInput({ ...input, genre: event.target.value })\r\n                break;\r\n            case \"rating\": setInput({ ...input, rating: event.target.value })\r\n                break;\r\n            case \"review\": setInput({ ...input, review: event.target.value })\r\n                break;\r\n            case \"image_url\": setInput({ ...input, image_url: event.target.value })\r\n                break;\r\n            case \"year\": setInput({ ...input, year: event.target.value })\r\n                break;\r\n            default: { break; }\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        let title = input.title;\r\n        let description = input.description;\r\n        let duration = input.duration;\r\n        let genre = input.genre;\r\n        let rating = input.rating;\r\n        let review = input.review;\r\n        let image_url = input.image_url;\r\n\r\n        console.log(movies.statusForm);\r\n        let timestamp = new Date();\r\n        let date = new Intl.DateTimeFormat('en-US', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' }).format(timestamp)\r\n        console.log(date);\r\n\r\n        if (title.replace(/\\s/g, '') !== \"\" && description.replace(/\\s/g, '') !== \"\" && duration.toString().replace(/\\s/g, '') !== \"\" && genre.replace(/\\s/g, '') !== \"\" && rating.toString().replace(/\\s/g, '') !== \"\" && review.replace(/\\s/g, '') !== \"\" && image_url.replace(/\\s/g, '') !== \"\") {\r\n            if (movies.statusForm === \"create\") {\r\n                axios.post(`https://backendexample.sanbersy.com/api/movies`, {\r\n                    created_at: date,\r\n                    title: input.title, description: input.description,\r\n                    duration: input.duration, genre: input.genre, rating: input.rating,\r\n                    review: input.review, image_url: input.image_url\r\n                })\r\n                    .then(res => {\r\n                        setMovies({\r\n                            statusForm: \"create\", selectedId: 0, lists: [...movies.lists, {\r\n                                ...input\r\n                            }]\r\n                        })\r\n                        setInput({\r\n                            title: \"\",\r\n                            description: \"\",\r\n                            year: \"\",\r\n                            duration: \"\",\r\n                            genre: \"\",\r\n                            rating: \"\",\r\n                            review: \"\",\r\n                            image_url: \"\"\r\n                        })\r\n                        alert('Data berhasil ditambahkan')\r\n                    })\r\n            }\r\n        } else {\r\n            alert('Kolom masih ada yang kosong, mohon cek kembali ')\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div id=\"content\">\r\n            < h1 > <span>Add Movie</span></h1 >\r\n            <form style={{ margin: \"20px\", padding: \"15px\" }} onSubmit={handleSubmit}>\r\n                <div>\r\n                    <InputLabel style={{ marginLeft: \"10px\", display: \"inline\" }}>awdaw</InputLabel><InputLabel style={{ display: \"inline\", marginLeft: \"480px\" }}>awdaw</InputLabel>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Movie Title\"\r\n                        variant=\"outlined\"\r\n                        name=\"title\"\r\n                        onChange={handleChange}\r\n                        value={input.title}\r\n\r\n                    />\r\n\r\n                    <TextField\r\n                        style={{\r\n                            marginLeft: \"100px\",\r\n                            width: \"400px\"\r\n                        }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Year\"\r\n                        variant=\"outlined\"\r\n                        name=\"year\"\r\n                        onChange={handleChange}\r\n                        value={input.year}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Description\"\r\n                        multiline\r\n                        rows={4}\r\n                        variant=\"outlined\"\r\n                        name=\"description\"\r\n                        onChange={handleChange}\r\n                        value={input.description}\r\n                    />\r\n\r\n                    <TextField\r\n                        style={{ marginLeft: \"100px\", width: \"400px\" }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Duration\"\r\n                        variant=\"outlined\"\r\n                        name=\"duration\"\r\n                        onChange={handleChange}\r\n                        value={input.duration}\r\n                        min={0}\r\n                        max={10}\r\n                        inputProps={{ inputProps: { min: 0, max: 10 } }}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Genre\"\r\n                        variant=\"outlined\"\r\n                        name=\"genre\"\r\n                        onChange={handleChange}\r\n                        value={input.genre}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        type=\"number\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Rating\"\r\n                        variant=\"outlined\"\r\n                        name=\"rating\"\r\n                        onChange={handleChange}\r\n                        value={input.rating}\r\n\r\n                        inputProps={{ inputProps: { min: 0, max: 10 } }}\r\n                    />\r\n                    <TextField\r\n                        style={{ marginLeft: \"100px\", width: \"400px\" }}\r\n                        id=\"outlined-multiline-static\"\r\n                        label=\"Review\"\r\n                        multiline\r\n                        rows={4}\r\n                        variant=\"outlined\"\r\n                        name=\"review\"\r\n                        onChange={handleChange}\r\n                        value={input.review}\r\n                    />\r\n\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <TextField\r\n                        style={{ width: \"400px\" }}\r\n                        type=\"text\"\r\n                        id=\"outlined-secondary\"\r\n                        label=\"Movie Image (URL):\"\r\n                        variant=\"outlined\"\r\n                        name=\"image_url\"\r\n                        onChange={handleChange}\r\n                        value={input.image_url}\r\n                    />\r\n                </div>\r\n                <div style={{ marginTop: \"20px\" }}>\r\n                    <Button type=\"Submit\" variant=\"contained\" color=\"secondary\">\r\n                        Submit\r\n                    </Button>\r\n                </div>\r\n            </form >\r\n        </div >\r\n    )\r\n}\r\nexport default CreateMovie;"]},"metadata":{},"sourceType":"module"}