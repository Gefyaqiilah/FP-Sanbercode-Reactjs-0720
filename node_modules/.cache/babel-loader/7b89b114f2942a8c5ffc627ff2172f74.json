{"ast":null,"code":"import _objectSpread from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link,useParams,useHistory}from'react-router-dom';import axios from'axios';import{MoviesContext}from'../../context/MoviesContext';import TextField from'@material-ui/core/TextField';import InputLabel from'@material-ui/core/InputLabel';import Button from'@material-ui/core/Button';var EditMovie=function EditMovie(){var _useContext=useContext(MoviesContext),_useContext2=_slicedToArray(_useContext,2),movies=_useContext2[0],setMovies=_useContext2[1];var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),singlemovie=_useState2[0],setSinglemovie=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),statusform=_useState4[0],setStatusform=_useState4[1];var _useState5=useState({title:\"\",description:\"\",year:\"\",duration:\"\",genre:\"\",rating:\"\",review:\"\",image_url:\"\"}),_useState6=_slicedToArray(_useState5,2),input=_useState6[0],setInput=_useState6[1];var _useParams=useParams(),id=_useParams.id;console.log(movies);useEffect(function(){if(singlemovie===null){axios.get(\"https://backendexample.sanbersy.com/api/movies/\".concat(id)).then(function(res){setSinglemovie(res.data);setInput({title:res.data.title,description:res.data.description,year:res.data.year,duration:res.data.duration,genre:res.data.genre,rating:res.data.rating,review:res.data.review,image_url:res.data.image_url});});}});console.log(input);console.log(singlemovie);var handleChange=function handleChange(event){var getName=event.target.name;switch(getName){case\"title\":setInput(_objectSpread(_objectSpread({},input),{},{title:event.target.value}));break;case\"description\":setInput(_objectSpread(_objectSpread({},input),{},{description:event.target.value}));break;case\"duration\":setInput(_objectSpread(_objectSpread({},input),{},{duration:event.target.value}));break;case\"genre\":setInput(_objectSpread(_objectSpread({},input),{},{genre:event.target.value}));break;case\"rating\":setInput(_objectSpread(_objectSpread({},input),{},{rating:event.target.value}));break;case\"review\":setInput(_objectSpread(_objectSpread({},input),{},{review:event.target.value}));break;case\"image_url\":setInput(_objectSpread(_objectSpread({},input),{},{image_url:event.target.value}));break;case\"year\":setInput(_objectSpread(_objectSpread({},input),{},{year:event.target.value}));break;default:{break;}}};var handleUpdate=function handleUpdate(event){event.preventDefault();var title=input.title;var description=input.description;var year=input.year;var duration=input.duration;var genre=input.genre;var rating=input.rating;var review=input.review;var image_url=input.image_url;if(title.replace(/\\s/g,'')!==\"\"&&description.replace(/\\s/g,'')!==\"\"&&duration.toString().replace(/\\s/g,'')!==\"\"&&genre.replace(/\\s/g,'')!==\"\"&&rating.toString().replace(/\\s/g,'')!==\"\"&&review.replace(/\\s/g,'')!==\"\"&&image_url.replace(/\\s/g,'')!==\"\"&&year.toString().replace(/\\s/g,'')!==\"\"){axios.put(\"https://backendexample.sanbersy.com/api/movies/\".concat(id),{title:input.title,description:input.description,year:input.year,duration:input.duration,genre:input.genre,rating:input.rating,review:input.review,image_url:input.image_url}).then(function(res){alert('Data Berhasil DiUpdate !');history.push(\"/movie/tablemovie\");});}else{alert('Maaf setiap kolom harus terisi, mohon cek kembali!');}};var handleBack=function handleBack(event){event.preventDefault();history.push(\"/movie/tablemovie\");};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{id:\"contentcreate\"},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(\"span\",null,\"Edit Movie\")),/*#__PURE__*/React.createElement(\"form\",{style:{margin:\"20px\",padding:\"15px\"},onSubmit:handleUpdate},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"400px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Year Release:\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Movie Title:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},type:\"text\",id:\"outlined-secondary\",label:\"Movie Title\",variant:\"outlined\",name:\"title\",onChange:handleChange,value:input.title}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},type:\"number\",id:\"outlined-secondary\",label:\"Year\",variant:\"outlined\",name:\"year\",onChange:handleChange,value:input.year})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"430px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Duration:\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Description:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},id:\"outlined-multiline-static\",label:\"Description\",multiline:true,rows:4,variant:\"outlined\",name:\"description\",onChange:handleChange,value:input.description}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},type:\"number\",id:\"outlined-secondary\",label:\"Duration\",variant:\"outlined\",name:\"duration\",onChange:handleChange,value:input.duration,min:0,max:10,inputProps:{inputProps:{min:0,max:10}}})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"400px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Image (URL):\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Genre:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},type:\"text\",id:\"outlined-secondary\",label:\"Genre\",variant:\"outlined\",name:\"genre\",onChange:handleChange,value:input.genre}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},type:\"text\",id:\"outlined-secondary\",label:\"Movie Image (URL):\",variant:\"outlined\",name:\"image_url\",onChange:handleChange,value:input.image_url})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(InputLabel,{style:{float:\"right\",marginRight:\"450px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Review:\"),/*#__PURE__*/React.createElement(InputLabel,{style:{marginLeft:\"10px\",color:\"black\",fontSize:\"16px\",fontWeight:'bolder'}},\"Rating:\"),/*#__PURE__*/React.createElement(TextField,{style:{width:\"400px\",marginTop:'10px'},type:\"number\",id:\"outlined-secondary\",label:\"Rating 1-10\",variant:\"outlined\",name:\"rating\",onChange:handleChange,value:input.rating,inputProps:{inputProps:{min:0,max:10}}}),/*#__PURE__*/React.createElement(TextField,{style:{marginLeft:\"100px\",width:\"400px\",marginTop:'10px'},id:\"outlined-multiline-static\",label:\"Review\",multiline:true,rows:4,variant:\"outlined\",name:\"review\",onChange:handleChange,value:input.review})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:\"50px\"}},/*#__PURE__*/React.createElement(Button,{type:\"Submit\",variant:\"contained\",color:\"secondary\",style:{backgroundColor:\"black\",color:\"gold\",fontWeight:'bolder'}},\"Edit\"),\"\\xA0\",/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:handleBack,color:\"warning\",style:{float:\"right\",backgroundColor:\"gold\",color:\"black\",fontWeight:'bolder'}},\"Back\")))));};export default EditMovie;","map":{"version":3,"sources":["C:/xampp/htdocs/FP-Sanbercode-Reactjs-0720/src/pages/movies/EditMovie.js"],"names":["React","useState","useContext","useEffect","Link","useParams","useHistory","axios","MoviesContext","TextField","InputLabel","Button","EditMovie","movies","setMovies","history","singlemovie","setSinglemovie","statusform","setStatusform","title","description","year","duration","genre","rating","review","image_url","input","setInput","id","console","log","get","then","res","data","handleChange","event","getName","target","name","value","handleUpdate","preventDefault","replace","toString","put","alert","push","handleBack","margin","padding","float","marginRight","color","fontSize","fontWeight","marginLeft","width","marginTop","inputProps","min","max","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { Link, useParams, useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { MoviesContext } from '../../context/MoviesContext';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Button from '@material-ui/core/Button';\r\nconst EditMovie = () => {\r\n    const [movies, setMovies] = useContext(MoviesContext);\r\n    const history = useHistory();\r\n    const [singlemovie, setSinglemovie] = useState(null)\r\n    const [statusform, setStatusform] = useState(null)\r\n    const [input, setInput] = useState(\r\n        {\r\n            title: \"\",\r\n            description: \"\",\r\n            year: \"\",\r\n            duration: \"\",\r\n            genre: \"\",\r\n            rating: \"\",\r\n            review: \"\",\r\n            image_url: \"\"\r\n        }\r\n    )\r\n\r\n    let { id } = useParams();\r\n    console.log(movies);\r\n\r\n    useEffect(() => {\r\n        if (singlemovie === null) {\r\n            axios.get(`https://backendexample.sanbersy.com/api/movies/${id}`)\r\n                .then(res => {\r\n                    setSinglemovie(res.data)\r\n                    setInput({\r\n                        title: res.data.title,\r\n                        description: res.data.description,\r\n                        year: res.data.year,\r\n                        duration: res.data.duration,\r\n                        genre: res.data.genre,\r\n                        rating: res.data.rating,\r\n                        review: res.data.review,\r\n                        image_url: res.data.image_url\r\n                    })\r\n                }\r\n                )\r\n\r\n        }\r\n\r\n    })\r\n\r\n\r\n\r\n    console.log(input)\r\n    console.log(singlemovie)\r\n\r\n    const handleChange = (event) => {\r\n        let getName = event.target.name;\r\n\r\n        switch (getName) {\r\n            case \"title\": setInput({ ...input, title: event.target.value })\r\n\r\n                break;\r\n            case \"description\": setInput({ ...input, description: event.target.value })\r\n                break;\r\n\r\n            case \"duration\":\r\n                setInput({ ...input, duration: event.target.value })\r\n                break;\r\n            case \"genre\": setInput({ ...input, genre: event.target.value })\r\n                break;\r\n            case \"rating\": setInput({ ...input, rating: event.target.value })\r\n                break;\r\n            case \"review\": setInput({ ...input, review: event.target.value })\r\n                break;\r\n            case \"image_url\": setInput({ ...input, image_url: event.target.value })\r\n                break;\r\n            case \"year\": setInput({ ...input, year: event.target.value })\r\n                break;\r\n            default: { break; }\r\n        }\r\n    }\r\n    const handleUpdate = (event) => {\r\n        event.preventDefault();\r\n        let title = input.title;\r\n        let description = input.description;\r\n        let year = input.year;\r\n        let duration = input.duration;\r\n        let genre = input.genre;\r\n        let rating = input.rating;\r\n        let review = input.review;\r\n        let image_url = input.image_url;\r\n\r\n\r\n        if (title.replace(/\\s/g, '') !== \"\" && description.replace(/\\s/g, '') !== \"\" && duration.toString().replace(/\\s/g, '') !== \"\" && genre.replace(/\\s/g, '') !== \"\" && rating.toString().replace(/\\s/g, '') !== \"\" && review.replace(/\\s/g, '') !== \"\" && image_url.replace(/\\s/g, '') !== \"\" && year.toString().replace(/\\s/g, '') !== \"\") {\r\n            axios.put(`https://backendexample.sanbersy.com/api/movies/${id}`, {\r\n                title: input.title, description: input.description, year: input.year,\r\n                duration: input.duration, genre: input.genre, rating: input.rating,\r\n                review: input.review, image_url: input.image_url\r\n            })\r\n                .then(res => {\r\n                    alert('Data Berhasil DiUpdate !')\r\n                    history.push(\"/movie/tablemovie\")\r\n                })\r\n        } else {\r\n            alert('Maaf setiap kolom harus terisi, mohon cek kembali!')\r\n        }\r\n    }\r\n    const handleBack = event => {\r\n        event.preventDefault();\r\n        history.push(\"/movie/tablemovie\")\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div id=\"contentcreate\">\r\n                <h1><span>Edit Movie</span></h1 >\r\n                <form style={{ margin: \"20px\", padding: \"15px\" }} onSubmit={handleUpdate}>\r\n                    <div>\r\n                        <InputLabel style={{ float: \"right\", marginRight: \"400px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Year Release:</InputLabel>\r\n                        <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Movie Title:</InputLabel>\r\n                        <TextField\r\n                            style={{ width: \"400px\", marginTop: '10px' }}\r\n                            type=\"text\"\r\n                            id=\"outlined-secondary\"\r\n                            label=\"Movie Title\"\r\n                            variant=\"outlined\"\r\n                            name=\"title\"\r\n                            onChange={handleChange}\r\n                            value={input.title}\r\n\r\n                        />\r\n\r\n                        <TextField\r\n                            style={{\r\n                                marginLeft: \"100px\",\r\n                                width: \"400px\", marginTop: '10px'\r\n                            }}\r\n                            type=\"number\"\r\n                            id=\"outlined-secondary\"\r\n                            label=\"Year\"\r\n                            variant=\"outlined\"\r\n                            name=\"year\"\r\n                            onChange={handleChange}\r\n                            value={input.year}\r\n                        />\r\n                    </div>\r\n                    <div style={{ marginTop: \"50px\" }}>\r\n                        <InputLabel style={{ float: \"right\", marginRight: \"430px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Duration:</InputLabel>\r\n                        <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Description:</InputLabel>\r\n                        <TextField\r\n                            style={{ width: \"400px\", marginTop: '10px' }}\r\n                            id=\"outlined-multiline-static\"\r\n                            label=\"Description\"\r\n                            multiline\r\n                            rows={4}\r\n                            variant=\"outlined\"\r\n                            name=\"description\"\r\n                            onChange={handleChange}\r\n                            value={input.description}\r\n                        />\r\n\r\n                        <TextField\r\n                            style={{ marginLeft: \"100px\", width: \"400px\", marginTop: '10px' }}\r\n                            type=\"number\"\r\n                            id=\"outlined-secondary\"\r\n                            label=\"Duration\"\r\n                            variant=\"outlined\"\r\n                            name=\"duration\"\r\n                            onChange={handleChange}\r\n                            value={input.duration}\r\n                            min={0}\r\n                            max={10}\r\n                            inputProps={{ inputProps: { min: 0, max: 10 } }}\r\n                        />\r\n                    </div>\r\n                    <div style={{ marginTop: \"50px\" }}>\r\n                        <InputLabel style={{ float: \"right\", marginRight: \"400px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Image (URL):</InputLabel>\r\n                        <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Genre:</InputLabel>\r\n                        <TextField\r\n                            style={{ width: \"400px\", marginTop: '10px' }}\r\n                            type=\"text\"\r\n                            id=\"outlined-secondary\"\r\n                            label=\"Genre\"\r\n                            variant=\"outlined\"\r\n                            name=\"genre\"\r\n                            onChange={handleChange}\r\n                            value={input.genre}\r\n                        />\r\n\r\n                        <TextField\r\n                            style={{ marginLeft: \"100px\", width: \"400px\", marginTop: '10px' }}\r\n                            type=\"text\"\r\n                            id=\"outlined-secondary\"\r\n                            label=\"Movie Image (URL):\"\r\n                            variant=\"outlined\"\r\n                            name=\"image_url\"\r\n                            onChange={handleChange}\r\n                            value={input.image_url}\r\n                        />\r\n                    </div>\r\n                    <div style={{ marginTop: \"50px\" }}>\r\n                        <InputLabel style={{ float: \"right\", marginRight: \"450px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }}>Review:</InputLabel>\r\n                        <InputLabel style={{ marginLeft: \"10px\", color: \"black\", fontSize: \"16px\", fontWeight: 'bolder' }} >Rating:</InputLabel>\r\n                        <TextField\r\n                            style={{ width: \"400px\", marginTop: '10px' }}\r\n                            type=\"number\"\r\n                            id=\"outlined-secondary\"\r\n                            label=\"Rating 1-10\"\r\n                            variant=\"outlined\"\r\n                            name=\"rating\"\r\n                            onChange={handleChange}\r\n                            value={input.rating}\r\n\r\n                            inputProps={{ inputProps: { min: 0, max: 10 } }}\r\n                        />\r\n                        <TextField\r\n                            style={{ marginLeft: \"100px\", width: \"400px\", marginTop: '10px' }}\r\n                            id=\"outlined-multiline-static\"\r\n                            label=\"Review\"\r\n                            multiline\r\n                            rows={4}\r\n                            variant=\"outlined\"\r\n                            name=\"review\"\r\n                            onChange={handleChange}\r\n                            value={input.review}\r\n                        />\r\n\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: \"50px\" }}>\r\n                        <Button type=\"Submit\" variant=\"contained\" color=\"secondary\" style={{ backgroundColor: \"black\", color: \"gold\", fontWeight: 'bolder' }}>\r\n                            Edit\r\n                    </Button>\r\n                    &nbsp;\r\n                    <Button variant=\"contained\" onClick={handleBack} color=\"warning\" style={{ float: \"right\", backgroundColor: \"gold\", color: \"black\", fontWeight: 'bolder' }}>\r\n                            Back\r\n                        </Button>\r\n                    </div>\r\n                </form >\r\n            </div >\r\n        </>\r\n    )\r\n}\r\nexport default EditMovie;"]},"metadata":{},"sourceType":"module"}