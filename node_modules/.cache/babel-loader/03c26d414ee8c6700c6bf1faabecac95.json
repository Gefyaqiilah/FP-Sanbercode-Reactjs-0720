{"ast":null,"code":"import _objectSpread from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import React,{useState,useContext}from'react';import{useHistory,Redirect}from'react-router-dom';import axios from'axios';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import InputLabel from'@material-ui/core/InputLabel';import ExitToAppOutlinedIcon from'@material-ui/icons/ExitToAppOutlined';import{UserContext}from'../../context/UserContext';var Login=function Login(){var useStyles=makeStyles(function(theme){var _paper;return{paper:(_paper={marginTop:theme.spacing(8),display:'flex',flexDirection:'column',backgroundColor:'white',alignItems:\"center\",width:\"500px\",padding:\"50px\"},_defineProperty(_paper,\"marginTop\",\"100px\"),_defineProperty(_paper,\"marginLeft\",\"auto\"),_defineProperty(_paper,\"marginRight\",\"auto\"),_defineProperty(_paper,\"border\",\"5px solid whitesmoke\"),_defineProperty(_paper,\"borderRadius\",\"10px\"),_paper),avatar:{alignItems:\"center\",margin:theme.spacing(1),backgroundColor:\"black\"},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2),color:\"black\",fontSize:\"20px\",backgroundColor:\"gold\"},label:{color:\"black\"}};});var classes=useStyles();var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),users=_useContext2[0],setUsers=_useContext2[1];var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var history=useHistory();var handleChange=function handleChange(e){var getName=e.target.name;switch(getName){case\"username\":setInput(_objectSpread(_objectSpread({},input),{},{username:e.target.value}));break;case\"password\":setInput(_objectSpread(_objectSpread({},input),{},{password:e.target.value}));break;default:{break;}}};var handleSubmit=function handleSubmit(e){e.preventDefault();axios.post(\"https://backendexample.sanbersy.com/api/login\",{username:input.username,password:input.password}).then(function(res){if(res.data.id){setUsers({username:input.username,password:input.password});localStorage.setItem(\"login\",JSON.stringify({id:res.data.id,username:res.data.username,password:res.data.password}));alert(\"Login berhasil!\");setInput({username:\"\",password:\"\"});console.log(users);console.log(res);history.push(\"/\");}else{alert('Username dan Password Salah');}}).catch(function(err){console.log(\"gagal\");});console.log(users);// axios.post(`https://backendexample.sanbersy.com/api/login`, { username: input.username, password: input.password })\n//     .then(hasil => {\n//         console.log('berhasilmenambahkandata', hasil)\n//         localStorage.setItem(\"login\", JSON.stringify({ username: input.username, password: input.password }))\n//     }).catch(gagal => {\n//         console.log(\"gagal\", gagal)\n//     })\n};var handleBack=function handleBack(e){history.push(\"/\");};var ToRegister=function ToRegister(e){history.push(\"/register\");};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{style:{fontSize:\"30px\"},variant:\"h5\"},\"Login\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form,Validate:true,onSubmit:handleSubmit},/*#__PURE__*/React.createElement(InputLabel,{className:classes.label},\"Username :\"),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",type:\"text\",autoFocus:true,className:classes.input,onChange:handleChange,value:input.username}),/*#__PURE__*/React.createElement(InputLabel,{className:classes.label},\"Password :\"),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",className:classes.input,onChange:handleChange,value:input.password}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",className:classes.submit},/*#__PURE__*/React.createElement(ExitToAppOutlinedIcon,null),\" Sign In\"),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:true},/*#__PURE__*/React.createElement(\"h4\",{onClick:ToRegister,style:{cursor:\"pointer\"}},\"Belum punya akun? Registrasi disini \")),/*#__PURE__*/React.createElement(Grid,{item:true},/*#__PURE__*/React.createElement(\"h4\",{onClick:handleBack,style:{cursor:\"pointer\",color:\"red\"}},\"Back\"))))),/*#__PURE__*/React.createElement(Box,{mt:8})));};export default Login;","map":{"version":3,"sources":["C:/xampp/htdocs/FP-Sanbercode-Reactjs-0720/src/pages/login/Login.js"],"names":["React","useState","useContext","useHistory","Redirect","axios","Button","CssBaseline","TextField","Link","Grid","Box","Typography","makeStyles","Container","InputLabel","ExitToAppOutlinedIcon","UserContext","Login","useStyles","theme","paper","marginTop","spacing","display","flexDirection","backgroundColor","alignItems","width","padding","avatar","margin","form","submit","color","fontSize","label","classes","users","setUsers","username","password","input","setInput","history","handleChange","e","getName","target","name","value","handleSubmit","preventDefault","post","then","res","data","id","localStorage","setItem","JSON","stringify","alert","console","log","push","catch","err","handleBack","ToRegister","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport ExitToAppOutlinedIcon from '@material-ui/icons/ExitToAppOutlined';\r\nimport { UserContext } from '../../context/UserContext';\r\n\r\nconst Login = () => {\r\n    const useStyles = makeStyles((theme) => ({\r\n        paper: {\r\n            marginTop: theme.spacing(8),\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            backgroundColor: 'white',\r\n            alignItems: \"center\",\r\n            width: \"500px\",\r\n            padding: \"50px\",\r\n            marginTop: \"100px\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            border: \"5px solid whitesmoke\",\r\n            borderRadius: \"10px\"\r\n        },\r\n        avatar: {\r\n            alignItems: \"center\",\r\n            margin: theme.spacing(1),\r\n            backgroundColor: \"black\",\r\n        },\r\n        form: {\r\n            width: '100%', // Fix IE 11 issue.\r\n            marginTop: theme.spacing(1),\r\n        },\r\n        submit: {\r\n            margin: theme.spacing(3, 0, 2),\r\n            color: \"black\",\r\n            fontSize: \"20px\",\r\n            backgroundColor: \"gold\"\r\n        },\r\n        label: {\r\n            color: \"black\"\r\n        }\r\n    }));\r\n\r\n\r\n    const classes = useStyles();\r\n    const [users, setUsers] = useContext(UserContext)\r\n    const [input, setInput] = useState({\r\n        username: \"\",\r\n        password: \"\"\r\n    })\r\n    const history = useHistory();\r\n\r\n    const handleChange = (e) => {\r\n        let getName = e.target.name;\r\n        switch (getName) {\r\n            case \"username\": setInput({ ...input, username: e.target.value })\r\n                break;\r\n            case \"password\": setInput({ ...input, password: e.target.value })\r\n                break;\r\n            default: { break; }\r\n        }\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.post(`https://backendexample.sanbersy.com/api/login`, { username: input.username, password: input.password })\r\n            .then(res => {\r\n                if (res.data.id) {\r\n                    setUsers({\r\n                        username: input.username,\r\n                        password: input.password\r\n                    })\r\n                    localStorage.setItem(\"login\", JSON.stringify({ id: res.data.id, username: res.data.username, password: res.data.password }))\r\n                    alert(\"Login berhasil!\")\r\n                    setInput({ username: \"\", password: \"\" })\r\n                    console.log(users)\r\n                    console.log(res)\r\n                    history.push(\"/\")\r\n\r\n                } else {\r\n                    alert('Username dan Password Salah')\r\n                }\r\n            }\r\n            )\r\n            .catch(err => {\r\n                console.log(\"gagal\")\r\n            })\r\n        console.log(users)\r\n\r\n        // axios.post(`https://backendexample.sanbersy.com/api/login`, { username: input.username, password: input.password })\r\n        //     .then(hasil => {\r\n        //         console.log('berhasilmenambahkandata', hasil)\r\n        //         localStorage.setItem(\"login\", JSON.stringify({ username: input.username, password: input.password }))\r\n\r\n        //     }).catch(gagal => {\r\n        //         console.log(\"gagal\", gagal)\r\n        //     })\r\n    }\r\n    const handleBack = (e) => {\r\n        history.push(\"/\");\r\n    }\r\n    const ToRegister = (e) => {\r\n        history.push(\"/register\")\r\n    }\r\n    return (\r\n        <>\r\n            <Container component=\"main\" maxWidth=\"xs\">\r\n                <CssBaseline />\r\n                <div className={classes.paper}>\r\n\r\n                    <Typography style={{ fontSize: \"30px\" }} variant=\"h5\">\r\n                        Login\r\n        </Typography>\r\n                    <form className={classes.form} Validate onSubmit={handleSubmit}>\r\n                        <InputLabel className={classes.label}>Username :</InputLabel>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"username\"\r\n                            label=\"Username\"\r\n                            name=\"username\"\r\n                            type=\"text\"\r\n                            autoFocus\r\n                            className={classes.input}\r\n                            onChange={handleChange}\r\n                            value={input.username}\r\n                        />\r\n                        <InputLabel className={classes.label}>Password :</InputLabel>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            className={classes.input}\r\n                            onChange={handleChange}\r\n                            value={input.password}\r\n                        />\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            className={classes.submit}\r\n                        >\r\n                            <ExitToAppOutlinedIcon /> Sign In\r\n          </Button>\r\n                        <Grid container>\r\n                            <Grid item xs>\r\n                                <h4 onClick={ToRegister} style={{ cursor: \"pointer\" }}>Belum punya akun? Registrasi disini </h4>\r\n                            </Grid>\r\n                            <Grid item  >\r\n                                <h4 onClick={handleBack} style={{ cursor: \"pointer\", color: \"red\" }}>Back</h4>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n                </div>\r\n                <Box mt={8}>\r\n                </Box>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}