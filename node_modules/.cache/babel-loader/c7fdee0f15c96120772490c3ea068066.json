{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\FP-Sanbercode-Reactjs-0720\\\\src\\\\pages\\\\login\\\\ChangePassword.js\";\nimport React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport ExitToAppOutlinedIcon from '@material-ui/icons/ExitToAppOutlined';\nimport { UserContext } from '../../context/UserContext';\n\nconst ChangePassword = () => {\n  const useStyles = makeStyles(theme => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: 'white',\n      alignItems: \"center\",\n      width: \"500px\",\n      padding: \"50px\",\n      marginTop: \"100px\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      border: \"5px solid whitesmoke\",\n      borderRadius: \"10px\"\n    },\n    avatar: {\n      alignItems: \"center\",\n      margin: theme.spacing(1),\n      backgroundColor: \"black\"\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n      color: \"black\",\n      fontSize: \"20px\",\n      backgroundColor: \"gold\"\n    },\n    label: {\n      color: \"black\"\n    }\n  }));\n  const classes = useStyles();\n  const getId = JSON.parse(localStorage.getItem('login')) ? JSON.parse(localStorage.getItem('login')).id : 0;\n  const getUsername = JSON.parse(localStorage.getItem('login')) ? JSON.parse(localStorage.getItem('login')).username : null;\n  const getPassword = JSON.parse(localStorage.getItem('login')) ? JSON.parse(localStorage.getItem('login')).password : null;\n  const [input, setInput] = useState({\n    username: getUsername,\n    password: \"\",\n    newpassword: \"\"\n  });\n  const history = useHistory();\n\n  const handleChange = e => {\n    let getName = e.target.name;\n\n    switch (getName) {\n      case \"username\":\n        setInput({ ...input,\n          username: e.target.value\n        });\n        break;\n\n      case \"password\":\n        setInput({ ...input,\n          password: e.target.value\n        });\n        break;\n\n      case \"newpassword\":\n        setInput({ ...input,\n          newpassword: e.target.value\n        });\n        break;\n\n      default:\n        {\n          break;\n        }\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    let username = input.username;\n    let password = input.password;\n    let newpassword = input.newpassword;\n\n    if (username.replace(/\\s/g, '') === getPassword) {\n      axios.put(`https://backendexample.sanbersy.com/api/users/${getId}`, {\n        username: input.username,\n        password: input.newpassword\n      }).then(res => {\n        alert('Akun anda berhasil dibuat!');\n        localStorage.setItem(\"login\", JSON.stringify({\n          username: input.username,\n          password: input.password\n        }));\n        setInput({\n          username: \"\",\n          password: \"\"\n        });\n      }).catch(err => {\n        console.log(\"Error\", err);\n      });\n    } else {\n      alert('Maaf Kolom registrasi masih kosong,silahkan cek kembali!');\n    }\n  };\n\n  const handleBack = e => {\n    history.push(\"/\");\n  };\n\n  console.log(input);\n  return /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      fontSize: \"30px\"\n    },\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    Validate: true,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    className: classes.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, \"Username :\"), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"username\",\n    label: \"Username\",\n    name: \"username\",\n    type: \"text\",\n    autoFocus: true,\n    className: classes.input,\n    onChange: handleChange,\n    value: input.username,\n    InputProps: {\n      readOnly: true,\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(InputLabel, {\n    className: classes.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 21\n    }\n  }, \"Password :\"), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    className: classes.input,\n    onChange: handleChange,\n    value: input.password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(InputLabel, {\n    className: classes.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }, \"New Password :\"), /*#__PURE__*/React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"newpassword\",\n    label: \"New Password\",\n    type: \"password\",\n    id: \"password\",\n    className: classes.input,\n    onChange: handleChange,\n    value: input.newpassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    className: classes.submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ExitToAppOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }), \" Sign Up\"), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    onClick: handleBack,\n    style: {\n      cursor: \"pointer\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 29\n    }\n  }, \"Back\"))))), /*#__PURE__*/React.createElement(Box, {\n    mt: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default ChangePassword;","map":{"version":3,"sources":["C:/xampp/htdocs/FP-Sanbercode-Reactjs-0720/src/pages/login/ChangePassword.js"],"names":["React","useContext","useState","axios","useHistory","Button","CssBaseline","TextField","Link","Grid","Box","Typography","makeStyles","Container","InputLabel","ExitToAppOutlinedIcon","UserContext","ChangePassword","useStyles","theme","paper","marginTop","spacing","display","flexDirection","backgroundColor","alignItems","width","padding","marginLeft","marginRight","border","borderRadius","avatar","margin","form","submit","color","fontSize","label","classes","getId","JSON","parse","localStorage","getItem","id","getUsername","username","getPassword","password","input","setInput","newpassword","history","handleChange","e","getName","target","name","value","handleSubmit","preventDefault","replace","put","then","res","alert","setItem","stringify","catch","err","console","log","handleBack","push","readOnly","shrink","cursor"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport ExitToAppOutlinedIcon from '@material-ui/icons/ExitToAppOutlined';\r\nimport { UserContext } from '../../context/UserContext';\r\n\r\n\r\nconst ChangePassword = () => {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        paper: {\r\n            marginTop: theme.spacing(8),\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            backgroundColor: 'white',\r\n            alignItems: \"center\",\r\n            width: \"500px\",\r\n            padding: \"50px\",\r\n            marginTop: \"100px\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            border: \"5px solid whitesmoke\",\r\n            borderRadius: \"10px\"\r\n        },\r\n        avatar: {\r\n            alignItems: \"center\",\r\n            margin: theme.spacing(1),\r\n            backgroundColor: \"black\",\r\n        },\r\n        form: {\r\n            width: '100%', // Fix IE 11 issue.\r\n            marginTop: theme.spacing(1),\r\n        },\r\n        submit: {\r\n            margin: theme.spacing(3, 0, 2),\r\n            color: \"black\",\r\n            fontSize: \"20px\",\r\n            backgroundColor: \"gold\"\r\n        },\r\n        label: {\r\n            color: \"black\"\r\n        }\r\n    }));\r\n\r\n\r\n    const classes = useStyles();\r\n    const getId = JSON.parse(localStorage.getItem('login')) ? JSON.parse(localStorage.getItem('login')).id : 0;\r\n    const getUsername = JSON.parse(localStorage.getItem('login')) ? JSON.parse(localStorage.getItem('login')).username : null;\r\n    const getPassword = JSON.parse(localStorage.getItem('login')) ? JSON.parse(localStorage.getItem('login')).password : null;\r\n    const [input, setInput] = useState({\r\n        username: getUsername,\r\n        password: \"\",\r\n        newpassword: \"\"\r\n    })\r\n    const history = useHistory();\r\n\r\n    const handleChange = (e) => {\r\n        let getName = e.target.name;\r\n        switch (getName) {\r\n            case \"username\": setInput({ ...input, username: e.target.value })\r\n                break;\r\n            case \"password\": setInput({ ...input, password: e.target.value })\r\n                break;\r\n            case \"newpassword\": setInput({ ...input, newpassword: e.target.value })\r\n                break;\r\n            default: { break; }\r\n        }\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        let username = input.username;\r\n        let password = input.password;\r\n        let newpassword = input.newpassword;\r\n        if (username.replace(/\\s/g, '') === getPassword) {\r\n            axios.put(`https://backendexample.sanbersy.com/api/users/${getId}`, { username: input.username, password: input.newpassword })\r\n                .then(res => {\r\n                    alert('Akun anda berhasil dibuat!')\r\n                    localStorage.setItem(\"login\", JSON.stringify({ username: input.username, password: input.password }))\r\n                    setInput({\r\n                        username: \"\",\r\n                        password: \"\"\r\n                    })\r\n                })\r\n                .catch(err => {\r\n                    console.log(\"Error\", err)\r\n                })\r\n        } else {\r\n            alert('Maaf Kolom registrasi masih kosong,silahkan cek kembali!')\r\n        }\r\n    }\r\n    const handleBack = (e) => {\r\n        history.push(\"/\");\r\n    }\r\n    console.log(input)\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n\r\n                <Typography style={{ fontSize: \"30px\" }} variant=\"h5\">\r\n                    Register\r\n        </Typography>\r\n                <form className={classes.form} Validate onSubmit={handleSubmit}>\r\n                    <InputLabel className={classes.label}>Username :</InputLabel>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"username\"\r\n                        label=\"Username\"\r\n                        name=\"username\"\r\n                        type=\"text\"\r\n                        autoFocus\r\n                        className={classes.input}\r\n                        onChange={handleChange}\r\n                        value={input.username}\r\n                        InputProps={{\r\n                            readOnly: true,\r\n                            shrink: true\r\n                        }}\r\n\r\n                    />\r\n                    <InputLabel className={classes.label}>Password :</InputLabel>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        className={classes.input}\r\n                        onChange={handleChange}\r\n                        value={input.password}\r\n                    />\r\n                    <InputLabel className={classes.label}>New Password :</InputLabel>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"newpassword\"\r\n                        label=\"New Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        className={classes.input}\r\n                        onChange={handleChange}\r\n                        value={input.newpassword}\r\n                    />\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        className={classes.submit}\r\n                    >\r\n                        <ExitToAppOutlinedIcon /> Sign Up\r\n          </Button>\r\n                    <Grid container>\r\n                        <Grid item  >\r\n                            <h3 onClick={handleBack} style={{ cursor: \"pointer\" }}>Back</h3>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n            <Box mt={8}>\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\nexport default ChangePassword;"]},"metadata":{},"sourceType":"module"}